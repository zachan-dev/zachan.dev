$(function(){function e(){R&&$("html").addClass("tn-ie"),0===window.location.protocol.indexOf("http")?$("html").addClass("tn-online"):$("html").addClass("tn-offline"),O||(window.onerror=function(e,t,o){return W({msg:e,url:t,line:o}),!0}),U("TopNav::Checking debug mode"),t(),U("TopNav::Updating elements"),o(),U("TopNav::Updating search filter"),l(),U("TopNav::Updating toolbar"),s(),U("TopNav::Updating highlights"),h(),U("TopNav::Updating sidebar menu"),d(),U("TopNav::Generating version menu"),f(),U("TopNav::Generating settings menu"),m(),U("TopNav::Configuring responsive design"),g(),U("TopNav::Showing elements"),c(),U("TopNav::Resizing image maps"),b({callback:function(){$("map").imageMapResize()},interval:400,maxAttempts:5}),U("TopNav::Completed")}function t(){return R&&9===E&&O?($('<code id="console-log" style="display:none;overflow:auto;height:25%;width:100%;" readonly></code>').prependTo("body"),U=function(){var e=$('<p style="color:#00f;margin:0;">'+Array.prototype.slice.call(arguments).join()+"</p>");$("#console-log").append(e)},D=function(){var e=$('<p style="color:#f80;margin:0;">'+Array.prototype.slice.call(arguments).join()+"</p>");$("#console-log").append(e)},void(W=function(){var e=$('<p style="color:#f00;margin:0;">'+Array.prototype.slice.call(arguments).join()+"</p>");$("#console-log").append(e)})):void("undefined"!=typeof console&&(U=O?Function.prototype.bind.call(console.log,console):function(){},D=O?Function.prototype.bind.call(console.warn,console):function(){},W=O?Function.prototype.bind.call(console.error,console):function(){}))}function o(){var e='<span class="skin-name">'+C("#hp-help-name")+"</span>",t='<span class="skin-short-name">'+C("#hp-help-short-name")+"</span>";$(".logo").html(e+t).wrap('<div class="logo-wrapper"><div class="logo-inner"><p></p></div></div>'),$(".logo-wrapper").prependTo(".tab-bar"),document.querySelector(".inner-wrap").appendChild(document.querySelector(".footer")),$(".footerlink[data-mc-conditions^=_TopNav]").length&&($(".footerlink[data-mc-conditions$=GetSupport]").length&&$(".footerlink[data-mc-conditions$=SubmitATicket]").length&&$(".footerlink[data-mc-conditions$=SubmitATicket]").remove(),$(".footerlink[data-mc-conditions^=_TopNav]").removeAttr("data-mc-conditions")),$(".tab-bar .navigation-wrapper .navigation").wrap("<div></div>"),$("#TopNav.home .main-section").css("padding-bottom",parseInt($("#TopNav .footer").height())+14+"px");var o=$("ul.navigation > li").length;$("ul.navigation > li:first-child").css("margin-left",8.25*(6-o)+"%"),$("ul.navigation > li > a").each(function(){this.href="#"}),a(),$(".other .nav-search.row.outer-row").wrap('<div class="search-wrapper"></div>'),$(".other .search-wrapper").appendTo(".logo-wrapper"),$(".other[hpidocintopic] .search-bar.search-bar-container.needs-pie > *").wrapAll("<div></div>"),$("#hp-feedbackDimmedDiv").appendTo("body"),$("#hp-feedbackDiv").appendTo("body"),i(),n("#TopNav ul.off-canvas-list li.has-submenu a"),r()}function a(){setTimeout(function(){$("ul.navigation > li > a").each(function(){var e=$(this),t=e.text(),o=e.clone().css({display:"inline",width:"auto",visibility:"hidden"}).appendTo("body");o.width()>e.width()?e.attr("data-title",t):e.removeAttr("data-title"),o.remove()})},1e3)}function i(){if(L){U("WATCHMOVIETOOLTIP::",M),$("#TopNav.home .search-area-right img").attr("title",M).attr("alt",M);var e=$("#TopNav.home .movie-wrapper iframe").attr("src");e+=e.indexOf("?")===-1?"?":"&",e+="enablejsapi=1",e+="file:"===document.location.protocol?"":"&origin="+document.location.origin,$("#TopNav.home .movie-wrapper iframe").attr("id","watch-movie").attr("src",e).removeAttr("height").removeAttr("width").css({height:"100%",width:"100%"}),window.onYouTubePlayerAPIReady=function(){U("EVENT::onYouTubePlayerAPIReady"),V=new YT.Player("watch-movie",{events:{onReady:function(){U("EVENT::YTplayer.onReady"),$("#TopNav.home .movie-wrapper button").click(function(){U("EVENT::Pause movie"),V.pauseVideo()}),$("#TopNav.home .search-area-right img").click(function(e){e.preventDefault(),U("EVENT::Play movie"),MadCap.IsIOS()||V.playVideo()})}}}),$("#TopNav.home .movie-wrapper button").click(function(){U("EVENT::Hide movie"),$("#TopNav.home .movie-overlay").addClass("hidden")}),$("#TopNav.home .search-area-right img").click(function(e){e.preventDefault(),U("EVENT::Show movie"),$("#TopNav.home .movie-overlay").removeClass("hidden")}),$("#TopNav.home .search-area-right").removeClass("hidden")}}setTimeout(function(){U("Loading:: YT Iframe_API");var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},1e3)}function n(e){setTimeout(function(){$(e).on("mousedown",function(){U("Menu item clicked");var e=".left-submenu.move-right:last";n(e),$(e).scrollTop(0)})},1e3)}function r(){var e=setInterval(function(){$("ul.hpMiniTOCItems li").length&&(clearInterval(e),$("ul.hpMiniTOCItems")&&($("ul.hpMiniTOCItems").clone().removeClass("hpMiniTOCItems").addClass("ipn-menu").appendTo("body").wrap('<div class="ipn open"></div>'),$("ul.ipn-menu li").each(function(){var e=$(this),t=e.text(),o=$("a",this).attr("href");e.attr("href",o),e.html("<span>"+t+"</span><i></i>")}).click(function(){document.location.hash=$(this).attr("href"),$(this).addClass("active").siblings().removeClass("active"),$("html.web").length||setTimeout(function(){window.scrollTo(0,$(window).scrollTop()-71)},250)}),$('<li href="#hp-top-anchor" class="ipn-top"><span>Top</span><i></i></li>').click(function(){$(window).scrollTop(0)}).appendTo("ul.ipn-menu"),$('<li class="ipn-toggle"><span>Close</span><i></i></li>').click(function(){setTimeout(function(){$("#TopNav .ipn").removeClass("open").on("click",function(){$(this).off("click"),$(this).addClass("open")})},0)}).prependTo("ul.ipn-menu"),$(window).width()>P&&$(window).scrollTop()>=I&&$("#TopNav .ipn").addClass("show"),$("h2:in-viewport:first").each(function(){$("ul.ipn-menu li[href=#"+this.id+"]").addClass("active").siblings().removeClass("active")}),$(window).scroll(function(){$(window).width()>P&&$(window).scrollTop()>=I?$("#TopNav .ipn").addClass("show"):$("#TopNav .ipn").removeClass("show"),$("h2:in-viewport:first").each(function(){$("ul.ipn-menu li[href=#"+this.id+"]").addClass("active").siblings().removeClass("active")})})))},500)}function l(){var e=$(".search-filter:last").html();$(".search-filter:last").html('<div class="search-filter-label"></div>'+e),setTimeout(function(){$("#TopNav.home .search-area-bar").show(),$(".other .nav-search.row.outer-row").show()},100);var t=y("searchFilter");t||(t=k.first),setTimeout(function(){$(".search-filter:last > .search-filter-content > ul > li:first-child").text(k.first)},k.delay)}function s(){$("#proxy-topic-toolbar").appendTo(".tab-bar-section .navigation-wrapper div"),$(".other .buttons.clearfix.topicToolbarProxy .remove-highlight-button").attr("title",N.highlights.tooltip),$(".other .buttons.clearfix.topicToolbarProxy .print-button").attr("title",N.print.tooltip),$(".other .buttons.clearfix.topicToolbarProxy .button").each(function(){var e=$(this);$('<span class="topic-toolbar-tooltip">'+this.title+"</span>").appendTo(e),R||(this.title=""),e.addClass("tooltips")}),$(".other .buttons.clearfix.topicToolbarProxy .expand-all-button").click(function(){this.lastChild.innerHTML=this.title});for(var e=[{class:"next-topic-button",alt:N.next.altText,text:N.next.tooltip,click:function(){var e=$(".other #hp-sidebar-menu .sidebar li > a.selected");e="UL"==e.next().prop("tagName")?e.next().children("li:first").children("a:first"):e.parent().next().children("a:first"),e.length&&(location.href=e.attr("href"))}},{class:"previous-topic-button",alt:N.prev.altText,text:N.prev.tooltip,click:function(){var e=$(".other #hp-sidebar-menu .sidebar li > a.selected");e="LI"==e.parent().prev().prop("tagName")?e.parent().prev().children("a:first"):e.parent().parent().prev(),e.length&&(location.href=e.attr("href"))}},{class:"forward-button",alt:N.forward.altText,text:N.forward.tooltip,click:function(){window.history.forward()}},{class:"back-button",alt:N.back.altText,text:N.back.tooltip,click:function(){window.history.back()}}],t=0;t<e.length;t++){var o=$(".other .buttons.clearfix.topicToolbarProxy .print-button").clone();o.removeClass("print-button").addClass(e[t].class),o.children("img").attr("alt",e[t].alt),o.children("span").text(e[t].text),R&&o.attr("title",e[t].text),o.click(e[t].click),o.prependTo(".other .buttons.clearfix.topicToolbarProxy .button-group-container-left")}p(),$(window).resize(function(){p(),$(window).width()>P&&$(window).scrollTop()>=I?$("#TopNav .ipn").addClass("show"):$("#TopNav .ipn").removeClass("show")})}function p(){setTimeout(function(){$(".other .buttons.clearfix.topicToolbarProxy .button.tooltips span").each(function(){this.style.right="-"+(this.offsetWidth/2-12)+"px"})},500)}function c(){L&&$("#TopNav.home .search-area-right").removeClass("hidden"),$(".other .sidebar").removeClass("hidden"),$("#proxy-breadcrumbs").removeClass("hidden"),$("#proxy-body").removeClass("hidden"),$("#proxy-topic-toolbar").removeClass("hidden")}function h(){$(".home .highlight-area table td").each(function(e){var t=$("img",this);if(t.length){var o=$(t[0]),a=$(t[1]);o.attr("onmouseover",'this.src="'+a.attr("src")+'"'),o.attr("onmouseout",'this.src="'+o.attr("src")+'"'),a.next().attr("onmouseover",'this.previousSibling.src="'+a.attr("src")+'"'),a.next().attr("onmouseout",'this.previousSibling.src="'+o.attr("src")+'"'),a.remove()}})}function d(){$.get(Y+"Content/Resources/_TopNav/_TopNav_TOC.htm",function(e){e=e.replace(/[\s\S]*<h1>_TopNav_TOC<\/h1>\s*/m,"").replace(/<\/div>[\s\S]*<\/div>[\s\S]*<\/div>[\s\S]*<\/div>[\s\S]*<div class="footer">[\s\S]*/gm,"").replace(/hp-toc-tree"/,'hp-toc-tree" class="hidden"'),$("body").append($.parseHTML(e)),u()})}function u(){v(0,0,$("#hp-toc-tree > ul > li"));var e=-1;$("#hp-sidebar-menu .has-children li > a").each(function(t,o){var a=!1,i=$(o).parents(".has-children").find("> a").text();if(e===-1){for(var n=H.length-1;n>=0&&!a;n--)for(var r=0;r<H[n].length&&!a;r++)if(H[n][r].text===$(o).text()){var l=H[n][r].pLevel,s=H[n][r].pIndex;H[l][s].text===i&&(a=!0,e=n,H[n][r].hasChildren&&!$(o).parent().hasClass("has-children")&&$(o).parent().addClass("has-children"),$(o).parent(".has-children").find(".selected").length&&$(o).addClass("child-selected"))}}else for(var r=0;r<H[e].length&&!a;r++)if(H[e][r].text===$(o).text()){var l=H[e][r].pLevel,s=H[e][r].pIndex;H[l][s].text===i&&(a=!0,H[e][r].hasChildren&&!$(o).parent().hasClass("has-children")&&$(o).parent().addClass("has-children"),$(o).parent(".has-children").find(".selected").length&&$(o).addClass("child-selected"))}}),e===-1&&(e=2),(e-=1)<0||$("#hp-sidebar-menu li > a").each(function(t,o){for(var a=!1,i=0;i<H[e].length&&!a;i++)H[e][i].text===$(o).text()&&(a=!0,H[e][i].hasChildren&&!$(o).parent().hasClass("has-children")&&$(o).parent().addClass("has-children"),$(o).parent(".has-children").find(".selected").length&&$(o).addClass("child-selected"))})}function v(e,t,o){H.length===e&&H.push([]),o.each(function(o,a){H[e].push({pLevel:e-1,pIndex:t,hasChildren:$(a).hasClass("has-children"),text:$("> a",a).text()}),$(a).hasClass("has-children")&&v(e+1,H[e].length-1,$("> ul > li",a))})}function f(){function e(a){var i=a.baseURL+"../".repeat(a.tryLevel)+a.verFileName;U("processVersionFile::verFilePath:",i),$.getScript(i).done(function(){var e={},i={ver:o.slice(-a.tryLevel)[0],lang:o.slice(-(a.tryLevel+1))[0]};U("processVersionFile::curr:",i);for(var n=0;n<vlmPaths.length;n++)o=vlmPaths[n].split("/"),e[o[1]]||(e[o[1]]=[]),e[o[1]].push({lang:o[0],path:vlmPaths[n]});if(!$.isEmptyObject(e)){"latest"===i.ver&&(i.ver=vlmLatest),$("ul.verLangMenu.normal").addClass("online"),t="<ul>";for(var r in e){if(t+="<li>",1===e[r].length){var l=e[r].pop();t+='<a href="'+(r===i.ver?'#" class="selected"':vlmBaseURL+l.path+'"')+">"+r+"</a>"}else{for(t+='<a href="#"'+(r===i.ver?' class="selected"':"")+">"+r+"</a>",t+="<ul>";e[r].length;){var l=e[r].pop();t+='<li><a href="'+(r===i.ver&&l.lang===i.lang?'#" class="selected"':vlmBaseURL+l.path+'"')+">"+vlmLangs[l.lang]+"</a></li>"}t+="</ul>"}t+="</li>"}t+="</ul>",$("ul.verLangMenu.normal li").append(t)}}).fail(function(){U("processVersionFile::Next tryLevel:",a.tryLevel+1),++a.tryLevel<=a.maxLevel&&e(a)})}if(A){var t=$('<ul class="verLangMenu normal"><li><span>'+S+" "+A+"</span></li></ul>").appendTo(".logo-wrapper .logo");if("file:"!==location.protocol){String.prototype.repeat=function(e){return new Array(isNaN(e)?1:++e).join(this)};var o=Y.split("/");e({tryLevel:2,maxLevel:o.length-4,baseURL:Y,verFileName:"_TopNav_version-language-data.js"})}}}function m(){var e=y("switchStatus");e&&"other"!==e&&w({switchStatus:"offline"===e?x.online:x.local,switchPath:y("switchPath"),currentPath:y("currentPath")})}function g(){$(window).resize(function(){$("body").innerWidth()>640&&$(".off-canvas-wrap.move-right").removeClass("move-right"),$("#TopNav .main-section").css("padding-bottom",parseInt($("#TopNav .footer").height())+14+"px"),a()}),$("#TopNav nav.tab-bar .row.outer-row .menu-icon").click(function(){"true"!==$("#TopNav nav.tab-bar .row.outer-row .menu-icon").attr("aria-expanded")&&window.scrollTo(0,0)}),$("#TopNav.other .search-wrapper").addClass("Responsive_Closed"),$("#search-responsive-back").click(function(){$("#TopNav.other .search-wrapper").toggleClass("Responsive_Closed Responsive_Open"),setTimeout(function(){$("#search-responsive-wrapper").removeClass("Responsive_Hide"),$("#TopNav nav.tab-bar .row.outer-row .menu-icon").removeClass("Responsive_Hide"),$("#TopNav .inner-wrap .logo-wrapper a.logo").removeClass("Responsive_Hide")},450)}).wrap('<div id="search-wrapper-back"></div>'),$("#TopNav.other #search-wrapper-back").appendTo("#TopNav.other .search-wrapper .search-bar"),$("#search-responsive").appendTo(".logo-wrapper").wrap('<div id="search-responsive-wrapper"></div>'),$("#search-responsive-wrapper").click(function(){$("#search-responsive-wrapper").addClass("Responsive_Hide"),$("#TopNav nav.tab-bar .row.outer-row .menu-icon").addClass("Responsive_Hide"),$("#TopNav .inner-wrap .logo-wrapper a.logo").addClass("Responsive_Hide"),$("#TopNav.other .search-wrapper").toggleClass("Responsive_Closed Responsive_Open")})}function w(e){U("TopNav::options:",e),$('<div class="settings-wrapper"><div id="hp-settings-menu"><ul><li class="switchStatus">'+e.switchStatus+"</li></ul></div></div>").appendTo(".logo-wrapper"),$("#hp-settings-menu .switchStatus").click(function(){U("online state: "+("View offline"===$(this).text()?"online":"offline"));var t=e.switchPath+"#topic="+document.location.href.substring(_)+"?path="+e.currentPath;U("url::",t),document.location.replace(t)})}function y(e){return"undefined"!=typeof Storage&&"undefined"!=typeof sessionStorage?sessionStorage[e]||null:"undefined"!=typeof document.cookie?T(e)||null:null}function T(e){for(var t=e+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){for(var i=o[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function b(e){!function(e,t,o,a){var i=0,a=a||10;U("callAttempt::params: ",{c:e,s:t,i:o,m:a});var n=setInterval(function(){if(U("callAttempt::attempt: "+(i+1)+" of "+a),++i<a){if(t&&!$(t).length)return void U("callAttempt::return");if(t&&$(t).length)return U("callAttempt::clear+success+callback"),clearInterval(n),void e();U("callAttempt::callback"),e()}else U("callAttempt::clear"),clearInterval(n),t&&$(t).length&&(U("callAttempt::finalAttempt+success+callback"),e())},o)}(e.callback,e.condition,e.interval,e.maxAttempts)}function C(e){return $(e).text()}var x={local:C("#hp-view-local"),online:C("#hp-view-online")},N={next:{altText:C("#hp-next-alt"),tooltip:C("#hp-next-tooltip")},prev:{altText:C("#hp-previous-alt"),tooltip:C("#hp-previous-tooltip")},forward:{altText:C("#hp-forward-alt"),tooltip:C("#hp-forward-tooltip")},back:{altText:C("#hp-back-alt"),tooltip:C("#hp-back-tooltip")},highlights:{tooltip:C("#hp-highlights-tooltip")},print:{tooltip:C("#hp-print-tooltip")}},k={first:C("#hp-search-all"),placeholder:$(".search-field:last").attr("placeholder"),delay:1400},P=640,I=("yes"===C("#hp-floating-toc-show").toLowerCase(),200),S=C("#hp-version-label"),A=C("#hp-help-version"),L="yes"===C("#hp-watch-movie-visible").toLowerCase(),M=C("#hp-watch-movie-tooltip"),R=$.browser.msie||!!navigator.userAgent.match(/Trident\/7\./),E=R?parseInt($.browser.version):null,_=document.location.href.indexOf("Content"),Y=document.location.href.substring(0,_),H=((new Date).getTime(),[]),V=null,O=!1,U=function(){},D=function(){},W=function(){};if(U("TopNav::Initializing"),O)e();else try{e()}catch(e){W(e.message)}}),function(e){var t={vars:{YTplayers:{},height:$(".TopNav_Play").length?130:80},init:function(){var o=$("<div></div>");o.addClass("MCPopupContainer"),o.append("<button></button>"),t.process();var a=0,i=5,n=setInterval(function(){a++>i&&clearInterval(n),t.process()},1e3);e.onYouTubePlayerAPIReady=function(){e.YTConfig={host:"https://www.youtube.com"},$("iframe.yt-init").each(function(){!function(e,t){t.vars.YTplayers[e]=new YT.Player(e,{events:{onReady:function(){$("#"+e).hasClass("yt-init")&&$("#"+e).removeClass("yt-init")}}})}(this.id,t)})}},process:function(){$(".TopNav_Play").length?($(".TopNav_Play #proxy-body img:not(.MCSlide *,.hp-play-overlay *)").each(function(e){t.processImage(this,e)}),$("iframe").each(function(e){t.processVideo(this,e)}),$(".mc-wrapper-outer").each(function(e){t.processSlide(this,e)})):($("img.hp-play").each(function(e){t.processImage(this,e)}),$("iframe[class*=hp-play]").each(function(e){t.processVideo(this,e)}),$(".mc-wrapper-outer.hp-play").each(function(e){t.processSlide(this,e)}))},processImage:function(e,o){var a=$(e),i=parseInt(a.height()),n=parseInt(a.width()),r=e.naturalHeight,l=e.naturalWidth,s="hp-i"+o;if(!i||i!=t.vars.height)return void setTimeout(function(){t.processImage(e,o)},500);if(!a.hasClass("hp-play-content")){a.addClass("hp-play-content").removeClass("hp-play").attr("id",s).attr("data-hp-play-uid",s).attr("data-mc-height",r).attr("data-mc-width",l).removeAttr("height").removeAttr("width"),a.wrap('<a class="hp-play-container" href="#" style="height:'+i+"px;width:"+n+'px;" data-hp-play-uid="'+s+'"></a>'),a.parent().prepend('<div class="hp-play-overlay"></div>').click(t.popupClick);var p=document.createElement("canvas"),c=p.getContext("2d");p.height=i,p.width=n+2;var h=new Image;h.onload=function(){c.drawImage(h,0,0,n+2,i)},h.src=a.attr("src"),$(".hp-play-overlay",a.parent()).append(p),a.hide(),t.addPopup(a.parent()[0],"click")}},processSlide:function(e,o){var a=$(e),i=$(".MCSlide:not(.mc-clone) img",e)[0],n=i.src,r=parseInt($(i).height()),l=i.naturalHeight,s=r/l,p=i.naturalWidth,c="hp-s"+o;return r&&r==t.vars.height?void(a.hasClass("hp-play-content")||(a.addClass("hp-play-content").removeClass("hp-play").attr("data-hp-play-uid",c).attr("data-mc-height",l).attr("data-mc-width",p),$(".mc-viewport.MCSlider",e).height(r),a.wrap('<a class="hp-play-container slider" href="#" style="height:'+r+"px;width:"+p*s+'px;" data-hp-play-uid="'+c+'"></a>'),a.parent().prepend('<div class="hp-play-overlay"><img src="'+n+'" /></div>').click(t.popupClick),t.addPopup(a.parent()[0],"click"))):void setTimeout(function(){t.processSlide(e,o)},500)},processVideo:function(e,o){var a=$(e),i=e.src.split("?")[0].split("/").pop(),n=parseInt(a.height()),r=parseInt(a.attr("height")),l=parseInt(a.attr("width")),s="hp-v"+o,p=a.attr("src");if(p+=p.indexOf("?")===-1?"?":"&",p+="enablejsapi=1",p+="file:"===document.location.protocol?"":"&origin="+document.location.origin,e.id||a.addClass("yt-init").attr("src",p),!n||n!=t.vars.height)return void setTimeout(function(){t.processVideo(e,o)},500);if(!a.hasClass("hp-play-content")){a.addClass("hp-play-content").removeClass("hp-play").attr("id",s).attr("data-hp-play-uid",s).attr("data-mc-height",r).attr("data-mc-width",l).removeAttr("height").removeAttr("width").width(l*(n/r));var c=parseInt(a.width());a.wrap('<a class="hp-play-container video" href="#" style="height:'+n+"px;width:"+c+'px;" data-hp-play-uid="'+s+'"></a>'),a.parent().prepend('<div class="hp-play-overlay"><img src="http://img.youtube.com/vi/'+i+'/0.jpg" /></div>').click(t.popupClick),t.addPopup(a.parent()[0],"click"),$("[data-hp-play-uid="+s+"] button").click(function(){t.vars.YTplayers[s].pauseVideo()}),$("[data-hp-play-uid="+s+"] .hp-play-overlay").click(function(e){e.preventDefault(),MadCap.IsIOS()||t.vars.YTplayers[s].playVideo()})}},popupClick:function(e){t.showPopup(this),e.preventDefault&&e.preventDefault()},addPopup:function(e,o){var a=10,i=1,n=10,r=$(e).children("iframe,.mc-wrapper-outer,img")[0];r.style.display="block";var l=854,s=480,p=s/l,c=document.documentElement.clientWidth-2*(a+i+n),h=document.documentElement.clientHeight-2*(a+i+n);s>h&&(s=h,l=s/p),l>c&&(l=c,s=l*p);var d=(new MadCap.Utilities.Url(document.location.href),$(r).offset().top),u=$(r).offset().left,v=MadCap.Dom.GetAttribute(e,"data-mc-popup-alt"),f=s+2*(i+n),m=l+2*(i+n),g=(window.innerHeight-s)/2,w=(window.innerWidth-l)/2,y=MadCap.Dom.GetScrollPosition(),T=y.Y,b=T+document.documentElement.clientHeight,C=y.X,x=C+document.documentElement.clientWidth,N=C+a,k=b-a,P=x-a;w<N&&(w=N),g+f>k&&(g=k-f),w+m>P&&(w=P-m);var I=$(r),S=I.attr("data-hp-play-uid"),A=$("<div></div>");A.addClass("MCPopupContainer").attr("data-hp-play-uid",S).append("<button></button>"),I.addClass("MCPopupFullImage").attr("alt",v).attr("tabindex","0"),"DIV"===I.prop("tagName").toUpperCase()?($("img",I).css({width:l,height:s}),$(".MCSlide.slideshow",I).css({width:l}),$(".mc-viewport .MCSlider[data-mc-infinite-loop!=False]",I).css({left:-l})):A.bind(o,function(){A.css({top:L,left:M}),A.parent().hide(),I.css({width:e.offsetWidth,height:e.offsetHeight})}),A.bind("keydown",function(t){var t=t||window.event;27!=t.keyCode&&13!=t.keyCode||(A.parent().hide(),I.css({width:e.offsetWidth,height:e.offsetHeight}))}),$("button",A).bind(o,function(){A.css({top:L,left:M}),A.parent().hide(),I.css({width:e.offsetWidth,height:e.offsetHeight})}),A.append(I),document.body.appendChild(A[0]),$(A).wrap('<div class="hp-play-wrapper" style="display:none;"></div>');var L=d-(i+n),M=u-(i+n);A.css({top:g,left:w});var R;$(window).resize(function(){clearTimeout(R),R=setTimeout(function(){t.resizePopup(".MCPopupContainer[data-hp-play-uid="+S+"]")},100)})},showPopup:function(e){var o=$(e).attr("data-hp-play-uid"),a=$(".MCPopupContainer[data-hp-play-uid="+o+"]");t.resizePopup(".MCPopupContainer[data-hp-play-uid="+o+"]"),a.parent().show()},resizePopup:function(e){e=document.querySelector(e);var t=10,o=1,a=10,i=$(e).children("iframe,.mc-wrapper-outer,img")[0],n=854,r=480,l=r/n,s=document.documentElement.clientWidth-2*(t+o+a),p=document.documentElement.clientHeight-2*(t+o+a);r>p&&(r=p,n=r/l),n>s&&(n=s,r=n*l);var c=(new MadCap.Utilities.Url(document.location.href),$(i).offset().top,$(i).offset().left,MadCap.Dom.GetAttribute(e,"data-mc-popup-alt"),r+2*(o+a)),h=n+2*(o+a),d=(window.innerHeight-r)/2,u=(window.innerWidth-n)/2,v=MadCap.Dom.GetScrollPosition(),f=v.Y,m=f+document.documentElement.clientHeight,g=v.X,w=g+document.documentElement.clientWidth,y=f+t,T=g+t,b=m-t,C=w-t,x=v.Y>=64?0:64-v.Y;d-=x,console.log("PLAY:::Before::wt,U,R,Y,S:",x,d,y,c,b),u<T&&(u=T),console.log("PLAY:::Middle::wt,U,R,Y,S:",x,d,y,c,b),d+c>b&&(d=b-c),u+h>C&&(u=C-h),console.log("PLAY:::After::wt,U,R,Y,S:",x,d,y,c,b);var N=$(i);"DIV"===N.prop("tagName").toUpperCase()&&($("img",N).css({width:n,height:r}),$(".MCSlide.slideshow",N).css({width:n}),$(".mc-viewport .MCSlider[data-mc-infinite-loop!=False]",N).css({left:-n}));$(e).parent().css({top:x+"px"}),$(e).animate({top:d,left:u},200),N.animate({width:n,height:r},200),N.focus()}};e.TopNav=e.TopNav||{},e.TopNav.play=t}(window||{}),function(e){e.belowthefold=function(t,o){var a=e(window).height()+e(window).scrollTop();return a<=e(t).offset().top-o.threshold},e.abovethetop=function(t,o){var a=e(window).scrollTop();return a>=e(t).offset().top+e(t).height()-o.threshold},e.rightofscreen=function(t,o){var a=e(window).width()+e(window).scrollLeft();return a<=e(t).offset().left-o.threshold},e.leftofscreen=function(t,o){var a=e(window).scrollLeft();return a>=e(t).offset().left+e(t).width()-o.threshold},e.inviewport=function(t,o){return!(e.rightofscreen(t,o)||e.leftofscreen(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t,o,a){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t,o,a){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t,o,a){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t,o,a){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t,o,a){return e.inviewport(t,{threshold:0})}})}(jQuery);