<!DOCTYPE html>
<!--QCCR1K4344-->
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="ALM_REST_API_TP.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="How to Do Common Tasks">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Session Management</title>
        <!-- Google Tag Manager -->
        <script type="text/javascript">/*<![CDATA[*/(function(w,d,s,l,i){if(location.protocol.toLowerCase().indexOf('file:')===0)return;w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-NJ9842');/*]]>*/</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <style>
            <link rel="icon" type="image/x-icon" href="https://software.microfocus.com/favicon.ico" />
		
			html, body 
			{
				height: 100%;
				margin-right:2em;
			}
						
			.wrapper 
			{
				min-height: 100%!important;
				margin: 0 auto -10em; 
				padding-left: 0.2em
						
			}

			footer, .float 
			{
				height: 10em; 
				margin:0;
				clear: both;
			}

			div.roundcorners
			{
				-moz-border-radius-bottomleft: 1em;
				border-bottom-left-radius: 1em;
				-moz-border-radius-topright: 1em;
				border-top-right-radius: 1em;
				background-color: #f2f2f2 ;
				width: 100% !important;
				padding: 0em;		 
			}
			
			p.footerlink
			{
				font-size: .75em;
				line-height: 1em;
				padding: 0em;
				margin-top:0;
				margin-bottom:.75em;
			}
			
			p.footerlink a,
			p.footerlink a:visited
			{
				color: #5a5a5a;
			}
			
			p.footerlink a:hover
			{
				color: #000000!important;
			}
						
			p.spacer
			{
				font-size: .5em;
				line-height: .5em;
				padding: 0em;
				margin-top:0;
				margin-bottom: .5em;
			}
	
    </style>
        <link href="../../Resources/Stylesheets/API_TechPreview.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../ALM_REST_API_TP.html#REST_API_Tech_Preview/General/Session_Management.html">Open topic with navigation</a>
        </p>
        <div class="wrapper">
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><a class="MCBreadcrumbsLink" href="How_to_Do_Common_Tasks.html">How to Do Common Tasks</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Session Management</span>
            </div>
            <div id="pagebody">
                <p>
                    <h1>Session Management</h1>
                    <p>Although RESTful applications are ideally stateless, the ALM platform requires sessions to manage locking, client lifetime,&#160;and perform other basic tasks. Session management is performed using a cookie named QCSession.&#160;&#160;A QCSession cookie is returned by a POST on the <a style="auto-update-caption: true;" href="../REST/site-session.html">site-session</a>&#160;resource.</p>
                    <p>The session type can be any application-defined string. You can create&#160;a session type for your application and specify a timeout different from the default in the POST operation on&#160;the <a style="auto-update-caption: true;" href="../REST/site-session.html">site-session</a>&#160;resource.</p>
                    <p>To protect from Cross-Site Request Forgery (CSRF) attacks:</p>
                    <ul>
                        <li value="1">
                            <p> Create a session type rather than using the default.</p>
                        </li>
                        <li value="2">
                            <p>Enable protection by setting site administration parameters. Set <code>ENABLE_XSRF_VALIDATION</code> to <code>Y</code> and  set <code>XSRF_BY_CLIENT_TYPE</code> to <code>&lt;client type 1&gt;=true; &lt;client type 2&gt;=true;</code> and so on. </p>
                        </li>
                        <li value="3">
                            <p>Send the X-XSRF-Token header with all requests. On a successful POST, the site-session resource returns an XSRF-TOKEN cookie. In all subsequent requests, include an X-XSRF-TOKEN header, having the value of the XSRF-TOKEN cookie.</p>
                        </li>
                    </ul>
                    <p>Your application should wait for the first QCSession cookie to return before allowing subsequent server calls. Failure to do so may result in your application having several sessions open. After a session is established, always pass the most recently returned&#160;QCSession cookie in the header of all actions. </p>
                    <p>Having more than one session open by an application&#160;may interfere with activities that require session-dependent functionality, such as entity locking.&#160;In addition, the overhead of opening and maintaining sessions&#160;affects server performance.&#160;</p>
                    <p>The same session can be used to access resources of different projects&#160;in&#160;a site.</p>
                    <p>Sessions are automatically replaced with new sessions when they expire. The new session is of the same type as the expired session. If a session expires, locks and other session-dependent functionality expire with it.</p>
                    <!--
<p><font style="BACKGROUND-COLOR: #ffffc0">When a
session ends, all locks are released. Therefore,
if an application connects to a new session,
discard all data downloaded previously. If you do
not,&nbsp;the next&nbsp;PUT operation can
overwrite changes made by another user while the
entity was not locked</font>.</p>
-->
                    <p>An application can keep a session alive with periodic calls to the <a href="../REST/site-session.html">site-session resource</a>.</p>
                    <p>The time-out for a REST Client&#160;session is set with&#160;the site administration parameter REST_SESSION_MAX_IDLE_TIME. The default is&#160;60 minutes.&#160; Other types of clients can use a custom site administration parameter to set a default time-out.</p>
                    <h3>Managing Sessions</h3>
                    <h2>Opening a Session</h2>
                    <div id="SectionIdSection" class="section" name="collapseableSection">
                        <p>Authenticate the user. See <a style="auto-update-caption: true;" href="Authenticate.html">Authenticate</a>.</p>
                        <p>After authentication, get the site-session.&#160;For non-default attributes, you can POST a session-parameters XML. See the <a style="auto-update-caption: true;" href="../REST/site-session.html">site-session</a>&#160;reference.</p>
                        <p />
                        <blockquote>
                            <table style="BORDER-RIGHT-WIDTH: 0px;BORDER-TOP-WIDTH: 0px;BORDER-BOTTOM-WIDTH: 0px;BORDER-LEFT-WIDTH: 0px;" cellspacing="0" cellpadding="0" cols="1">
                                <tbody>
                                    <tr>
                                        <td>POST&#160;/qcbin/rest/site-session</td>
                                    </tr>
                                    <tr>
                                        <td>Cookie: LWSSO_COOKIE_KEY={cookie}; Path=/</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p />
                            <p>Server returns&#160;the new&#160;session cookie.</p>
                            <p />
                            <table style="BORDER-RIGHT-WIDTH: 0px;BORDER-TOP-WIDTH: 0px;BORDER-BOTTOM-WIDTH: 0px;BORDER-LEFT-WIDTH: 0px;" cellspacing="0" cellpadding="0" cols="1">
                                <col style="width: 311px;" />
                                <tbody>
                                    <tr>
                                        <td>HTTP/1.1 200 OK</td>
                                    </tr>
                                    <tr>
                                        <td>Set-Cookie: QCSession={cookie}; Path=/</td>
                                    </tr>
                                    <tr>
                                        <td>Set-Cookie: XSRF-TOKEN={token]; Path =/</td>
                                    </tr>
                                </tbody>
                            </table>
                        </blockquote>
                    </div>
                    <p>A new session in a browser must have a client type that enforces XSRF token validation if there is already an open session in the same browser that enforces XSRF token validation. Add an <code>X-XSRF-TOKEN</code> header to each request with the value from the <code>XSRF-TOKEN</code> cookie returned by the site session creation.</p>
                    <h2>Extending&#160;a Session</h2>
                    <div id="SectionIdSection" class="section" name="collapseableSection">
                        <p>A Get or Put on the&#160;<a style="auto-update-caption: true;" href="../REST/site-session.html">site-session</a>&#160;resets the session timer.</p>
                        <p />
                        <blockquote>
                            <table style="BORDER-RIGHT-WIDTH: 0px;BORDER-TOP-WIDTH: 0px;BORDER-BOTTOM-WIDTH: 0px;BORDER-LEFT-WIDTH: 0px;" cellspacing="0" cellpadding="0" cols="1">
                                <tbody>
                                    <tr>
                                        <td>GET or PUT&#160;/qcbin/rest/site-session</td>
                                    </tr>
                                    <tr>
                                        <td>Cookie: LWSSO_COOKIE_KEY={cookie}; Path=/</td>
                                    </tr>
                                    <tr>
                                        <td>Cookie: QCSession={cookie]; Path=/</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p />
                            <p>Server resets the timer. No value is returned.</p>
                        </blockquote>
                    </div>
                    <p>&#160;</p>
                    <h2>Closing&#160;a Session</h2>
                    <div id="SectionIdSection" class="section" name="collapseableSection">
                        <p>A&#160;DELETE on the&#160;<a style="auto-update-caption: true;" href="../REST/site-session.html">site-session</a>&#160;ends the session. A <a href="../REST/logout.html">logout</a>&#160;operation also ends the session.</p>
                        <p />
                        <blockquote>
                            <table style="BORDER-RIGHT-WIDTH: 0px;BORDER-TOP-WIDTH: 0px;BORDER-BOTTOM-WIDTH: 0px;BORDER-LEFT-WIDTH: 0px;" cellspacing="0" cellpadding="0" cols="1">
                                <tbody>
                                    <tr>
                                        <td>DELETE /qcbin/rest/site-session</td>
                                    </tr>
                                    <tr>
                                        <td>Cookie: LWSSO_COOKIE_KEY={cookie}; Path=/</td>
                                    </tr>
                                    <tr>
                                        <td>Cookie: QCSession={cookie]; Path=/</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p />
                            <p>Server returns confirmation.</p>
                            <p />
                            <table style="BORDER-RIGHT-WIDTH: 0px;BORDER-TOP-WIDTH: 0px;BORDER-BOTTOM-WIDTH: 0px;BORDER-LEFT-WIDTH: 0px;" cellspacing="0" cellpadding="0" cols="1">
                                <tbody>
                                    <tr>
                                        <td>HTTP/1.1 200 OK</td>
                                    </tr>
                                    <tr>
                                        <td>Set-Cookie: QCSession; Expires...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </blockquote>
                    </div>
                    <h2>See Also</h2>
                    <p><a href="Authenticate.html">Authenticate</a>
                        <br /><a href="../REST/is-authenticated.html">is-authenticated</a>
                        <br /><a href="../REST/logout.html">logout</a>
                        <br /><a href="../REST/site-session.html">site-session</a>
                        <br /><a href="../../../../XSD/webframe.html?session-parameters_xsd.html" target="_blank">Session-parameters Schema</a>
                    </p>
                </p>
            </div>
            <p>&#160;</p>
            <!--        hr width="100%" size="4" align="center" padding-bottom="0" style="clear:both" /> -->
            <div class="float">
            </div>
        </div>
        <div class="footer">
            <MadCap:conditionalText data-mc-conditions="_rsc_Conditions.Footer">
                <div class="roundcorners">
                    <table style="border: none; margin-left: auto;       margin-right: auto;  width: 60%; margin-bottom: 0em">
                        <tr>
                            <td style="width: 33.3%;border: none; border-collapse: collapse;"> Explore  <!--Localizeable--><p class="spacer">&#160;</p><p class="footerlink"><a href="http://admhelp.microfocus.com/" target="_blank">More ADM Help Centers</a></p></td>
                            <td style="width: 33.3%;border: none; border-collapse: collapse;"> Connect  <!--Localizeable--><p class="spacer">&#160;</p><p class="footerlink"><a href="https://software.microfocus.com/en-us/software/alm-software-development-testing/try-now" target="_blank">Try&#160;<span class="QCPCALM">ALM</span></a></p><p class="footerlink"><a href="https://community.softwaregrp.com/t5/Quality-Center-ALM/ct-p/sws-QC" target="_blank">ALM Community</a></p><p class="footerlink"><a href="https://marketplace.microfocus.com/" target="_blank">Marketplace</a></p><p class="footerlink"><a href="http://saastube.software.microfocus.com/category/videos/quality-center" target="_blank">SaaS-Tube</a></p><p class="footerlink"><a href="https://twitter.com/MicroFocusDev" target="_blank" title="ALM on Twitter" alt="ALM on Twitter"><img src="../../Resources/Images/_rsc_Twitter_blue.png" style="width: 20px;height: 20px;" /></a><a href="https://www.linkedin.com/groups/4855477/profile" target="_blank" title="ALM Customer Forum on LinkedIn" alt="ALM Customer Forum on LinkedIn" data-mc-conditions="Project_Conditions.Removed">&#160;&#160;&#160;<img src="../../Resources/Images/_rsc_Linkedin_blue.png" style="width: 20px;height: 20px;" data-mc-conditions="Project_Conditions.Removed" /></a></p></td>
                            <td style="width: 33.3%;border: none; border-collapse: collapse;"> Contact  <!--Localizeable--><p class="spacer">&#160;</p><!--<p class="footerlink"><a href="mailto:[%=_rscC_Basic_Variables._rsc_Product_IE_Team_PDL%]?subject=Feedback on [%=_rscC_Basic_Variables._rsc_Book_Title%] ([%=_rscC_Basic_Variables._rsc_Product_Name%] [%=_rscC_Basic_Variables._rsc_Product_Version%])" title="Send your doc feedback to [%=_rscC_Basic_Variables._rsc_Product_IE_Team_PDL%]" alt="Send your doc feedback to [%=_rscC_Basic_Variables._rsc_Product_IE_Team_PDL%]">Send Documentation Feedback&#160;</a>
        </p>--><p class="footerlink"><a href="javascript:sendFeedback();" class="avoidPrint" data-mc-conditions="_rsc_Conditions.Footer">Send Documentation Feedback</a></p><!-- Localizable --><div id="hp-feedbackDiv" class="MCTextPopupBody" style="display:none; word-wrap:break-word;"><div style="position: absolute;top: 2px;right: 2px;text-align: right;"><a href="javascript:closeFeedback();" id="hp-feedbackClose">Close</a></div><div style="text-align:left"><!-- Localizable --><p style="font-weight: bold; margin-top: 1.0em;">Send us feedback</p><p style="margin-top: 1.0em;font-weight: normal;">Can we improve our help? Tell us how! <br /></p><!-- Localizable --><hr /><p>Send us an email with the following information:</p><!-- Localizable --><div id="hp-feedbackBody"><br /><br />Product name: <span id="hp-feedbackProduct"></span><span id="hp-feedbackAcronym"></span>&#160;<span id="hp-feedbackVersion"></span><br /><br />Topic title: <span id="hp-feedbackTopic"></span><br /><br />Your feedback<br /><br /><br /><br /></div><p>Send the email to: <a name="hp-feedbackOpen" id="hp-feedbackOpen" style="color: #0073E7;">docteam@microfocus.com</a></p><!-- Localizable --><hr /></div></div><div style="display:none;" id="hp-feedback-variables" productName="ALM REST API Reference (Technical Preview)" productVersion="12.5x" commentsEmailAddress="docteam@microfocus.com" productAcronym="ALM" topicTitle="Session Management" skinLine1="ALM 12.5x REST API Reference (Technical Preview)" skinLine2="">&#160;
		<p style="display:none;"><script src="../../Resources/MasterPages/_rsc_Feedback.js"></script></p></div><p class="footerlink" data-mc-conditions="_TopNav_Conditions.GetSupport"><a href="https://software.microfocus.com/en-us/software/customer-technical-support-services" target="_blank">Get Support</a></p></td>
                        </tr>
                    </table>
                    <table class="no_lines" style="border-top:1px solid #B9B8BB;  width:80%; margin-left: auto; margin-right: auto;  ">
                        <tr>
                            <td style="vertical-align: middle; font-size: .65em; text-align: center;direction: ltr;">Last updated <span class="_rscC_Basic_Variables_rsc_LastUpdatedDate">January 18, 2018</span>&#160;|&#160;<a href="../../Resources/MasterPages/_rsc_Legal_Notices.htm#1">© <span class="_rscC_Basic_Variables_rsc_Copyright_Date_Range">2002 - 2018</span>&#160;<span class="_rscB_Branding_Variables_rsc_Copyright_Name">EntIT Software LLC</span></a></td>
                        </tr>
                    </table>
                </div>
            </MadCap:conditionalText>
            <p style="visibility:hidden"> <![CDATA[ ]]></p>
            <p><a href="../../Resources/MasterPages/_rsc_HTML5_bannerTitle.htm" style="visibility: hidden;"></a><a href="../../Resources/MasterPages/_rsc_aboutSearch.htm" style="visibility: hidden;"></a>
            </p>
        </div>
    </body>
</html>